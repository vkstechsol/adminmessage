<!DOCTYPE html>
<html>
<head>
  <title>Message Board</title>
  <style>
    #message-board {
      max-width: 500px;
      margin: auto;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    #message-board h2 {
      text-align: center;
    }

    #message-board form {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 20px;
    }

    #message-board input[type="text"] {
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 5px;
      border: 1px solid #ccc;
      width: 100%;
    }

    #message-board input[type="submit"] {
      padding: 10px;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    #message-board .message {
      margin-bottom: 10px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      position: relative;
    }

    #message-board .message-content {
      margin-bottom: 10px;
    }

    #message-board .delete-button {
      position: absolute;
      top: 5px;
      right: 5px;
      padding: 5px;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div id="message-board">
    <h2>Message Board</h2>
    <form onsubmit="saveContent(); return false;">
      <input type="text" id="content" placeholder="Enter message">
      <input type="submit" value="Submit">
    </form>
    <div id="message-list"></div>
     <button id="delete-all-button" onclick="deleteAllContent()">Delete</button> 
  </div>
  
  <script>
    // Get saved content from local storage
    function getSavedContent() {
      return localStorage.getItem("content") || "";
    }

    // Display saved content
    function displayContent() {
      var messageList = document.getElementById("message-list");
      messageList.innerHTML = "";
      var savedContent = getSavedContent();
      if (savedContent) {
        var messages = savedContent.split("\n");
        for (var i = 0; i < messages.length; i++) {
          if (messages[i]) {
            var messageDiv = document.createElement("div");
            var messageContent = document.createElement("div");
            var deleteButton = document.createElement("button");
            messageDiv.id = getContentId(messages[i]);
            messageContent.innerHTML = messages[i];
            deleteButton.className = "delete-button";
            deleteButton.innerHTML = "Delete";
            deleteButton.onclick = function() {
              deleteContent(this);
            };
            messageDiv.appendChild(messageContent);
            messageDiv.appendChild(deleteButton);
            messageList.appendChild(messageDiv);
          }
        }
      }
    }

    // Save new content to local storage
    function saveContent() {
      var content = document.getElementById("content").value;
      if (isAdmin()) {
        var savedContent = getSavedContent();
        savedContent += content + "\n";
        localStorage.setItem("content", savedContent);
        displayContent();
       
    } else {
    alert("Only admin can add messages");
  }
}

// Delete a specific content
function deleteContent(button) {
  if (isAdmin()) {
    var messageDiv = button.parentNode;
    var messageId = messageDiv.id;
    var savedContent = getSavedContent();
    var messages = savedContent.split("\n");
    messages.splice(messages.indexOf(getContentText(messageId)), 1);
    localStorage.setItem("content", messages.join("\n"));
    messageDiv.remove();
  } else {
    alert("Only admin can delete messages");
  }
}

// Delete all content

function deleteAllContent() {
  if (isAdmin()) {
    localStorage.removeItem("content");
    displayContent();
  } else {
    alert("Only admin can delete messages");
  }
}

// Check if current user is admin
function isAdmin() {
  var password = prompt("Please enter admin password:");
  return password === "admin";
}

// Get content id from text
function getContentId(content) {
  return "message-" + content.replace(/[^a-zA-Z0-9]/g, "");
}

// Get content text from id
function getContentText(id) {
  return id.replace("message-", "");
}

// Initialize message board
displayContent();
</script>
</body>
</html>